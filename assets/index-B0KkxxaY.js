(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const b=`struct Uniforms {
  mvpMatrix : mat4x4<f32>,
};

@binding(0) @group(0) var<uniform> uniforms : Uniforms;

struct VertexOutput {
  @builtin(position) Position : vec4<f32>,
  @location(0) color: vec3<f32>,
};

@vertex
fn main(@location(0) position: vec3<f32>,
        @location(1) color: vec3<f32>) -> VertexOutput {
  var output: VertexOutput;
  output.Position = uniforms.mvpMatrix * vec4<f32>(position, 1.0);
  output.color = color;
  return output;
}`,A=`@fragment
fn main(@location(0) color: vec3<f32>) -> @location(0) vec4<f32> {
  return vec4<f32>(color,1.0);
}
`;var G=typeof Float32Array<"u"?Float32Array:Array;function O(){var e=new G(16);return G!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function T(e,r,t){var i=r[0],n=r[1],a=r[2],c=r[3],p=r[4],l=r[5],v=r[6],u=r[7],g=r[8],m=r[9],P=r[10],x=r[11],h=r[12],y=r[13],w=r[14],B=r[15],s=t[0],f=t[1],o=t[2],d=t[3];return e[0]=s*i+f*p+o*g+d*h,e[1]=s*n+f*l+o*m+d*y,e[2]=s*a+f*v+o*P+d*w,e[3]=s*c+f*u+o*x+d*B,s=t[4],f=t[5],o=t[6],d=t[7],e[4]=s*i+f*p+o*g+d*h,e[5]=s*n+f*l+o*m+d*y,e[6]=s*a+f*v+o*P+d*w,e[7]=s*c+f*u+o*x+d*B,s=t[8],f=t[9],o=t[10],d=t[11],e[8]=s*i+f*p+o*g+d*h,e[9]=s*n+f*l+o*m+d*y,e[10]=s*a+f*v+o*P+d*w,e[11]=s*c+f*u+o*x+d*B,s=t[12],f=t[13],o=t[14],d=t[15],e[12]=s*i+f*p+o*g+d*h,e[13]=s*n+f*l+o*m+d*y,e[14]=s*a+f*v+o*P+d*w,e[15]=s*c+f*u+o*x+d*B,e}function L(e,r,t){var i=t[0],n=t[1],a=t[2],c,p,l,v,u,g,m,P,x,h,y,w;return r===e?(e[12]=r[0]*i+r[4]*n+r[8]*a+r[12],e[13]=r[1]*i+r[5]*n+r[9]*a+r[13],e[14]=r[2]*i+r[6]*n+r[10]*a+r[14],e[15]=r[3]*i+r[7]*n+r[11]*a+r[15]):(c=r[0],p=r[1],l=r[2],v=r[3],u=r[4],g=r[5],m=r[6],P=r[7],x=r[8],h=r[9],y=r[10],w=r[11],e[0]=c,e[1]=p,e[2]=l,e[3]=v,e[4]=u,e[5]=g,e[6]=m,e[7]=P,e[8]=x,e[9]=h,e[10]=y,e[11]=w,e[12]=c*i+u*n+x*a+r[12],e[13]=p*i+g*n+h*a+r[13],e[14]=l*i+m*n+y*a+r[14],e[15]=v*i+P*n+w*a+r[15]),e}function M(e,r,t){var i=Math.sin(t),n=Math.cos(t),a=r[4],c=r[5],p=r[6],l=r[7],v=r[8],u=r[9],g=r[10],m=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=a*n+v*i,e[5]=c*n+u*i,e[6]=p*n+g*i,e[7]=l*n+m*i,e[8]=v*n-a*i,e[9]=u*n-c*i,e[10]=g*n-p*i,e[11]=m*n-l*i,e}function S(e,r,t){var i=Math.sin(t),n=Math.cos(t),a=r[0],c=r[1],p=r[2],l=r[3],v=r[8],u=r[9],g=r[10],m=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=a*n-v*i,e[1]=c*n-u*i,e[2]=p*n-g*i,e[3]=l*n-m*i,e[8]=a*i+v*n,e[9]=c*i+u*n,e[10]=p*i+g*n,e[11]=l*i+m*n,e}function E(e,r,t,i,n){var a=1/Math.tan(r/2);if(e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0){var c=1/(i-n);e[10]=(n+i)*c,e[14]=2*n*i*c}else e[10]=-1,e[14]=-2*i;return e}var V=E;async function C(){if(!navigator.gpu){document.body.innerText="WebGPU not supported!";return}const e=document.getElementById("gpuCanvas");e.width=window.innerWidth,e.height=window.innerHeight;const t=await(await navigator.gpu.requestAdapter()).requestDevice(),i=e.getContext("webgpu"),n=navigator.gpu.getPreferredCanvasFormat();i.configure({device:t,format:n});const c=t.createTexture({size:[e.width,e.height],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}).createView(),p=new Float32Array([-.5,-.5,.5,1,0,0,.5,-.5,.5,0,1,0,.5,.5,.5,0,0,1,-.5,.5,.5,1,1,0,-.5,-.5,-.5,0,1,1,.5,-.5,-.5,1,0,1,.5,.5,-.5,1,1,1,-.5,.5,-.5,0,0,0]),l=new Uint16Array([0,1,2,2,3,0,4,5,6,6,7,4,0,1,5,5,4,0,2,3,7,7,6,2,1,2,6,6,5,1,0,3,7,7,4,0]),v=t.createBuffer({size:p.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});t.queue.writeBuffer(v,0,p);const u=t.createBuffer({size:l.byteLength,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST});t.queue.writeBuffer(u,0,l);const g=t.createBuffer({size:64,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),m=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{type:"uniform"}}]}),P=t.createBindGroup({layout:m,entries:[{binding:0,resource:{buffer:g}}]}),x=t.createRenderPipeline({layout:t.createPipelineLayout({bindGroupLayouts:[m]}),vertex:{module:t.createShaderModule({code:b}),entryPoint:"main",buffers:[{arrayStride:24,attributes:[{shaderLocation:0,offset:0,format:"float32x3"},{shaderLocation:1,offset:12,format:"float32x3"}]}]},fragment:{module:t.createShaderModule({code:A}),entryPoint:"main",targets:[{format:n}]},primitive:{topology:"triangle-list",cullMode:"back"},depthStencil:{format:"depth24plus",depthWriteEnabled:!0,depthCompare:"less"}});let h=0;function y(){h+=.01;const w=e.width/e.height,B=O();V(B,45*Math.PI/180,w,.1,10);const s=O();L(s,s,[0,0,-3]),M(s,s,h),S(s,s,h);const f=O();T(f,B,s),t.queue.writeBuffer(g,0,f);const o=t.createCommandEncoder(),d=i.getCurrentTexture().createView(),U=o.beginRenderPass({colorAttachments:[{view:d,loadOp:"clear",storeOp:"store",clearValue:{r:.1,g:.1,b:.1,a:1}}],depthStencilAttachment:{view:c,depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}});U.setPipeline(x),U.setBindGroup(0,P),U.setVertexBuffer(0,v),U.setIndexBuffer(u,"uint16"),U.drawIndexed(l.length),U.end(),t.queue.submit([o.finish()]),requestAnimationFrame(y)}y()}C();
